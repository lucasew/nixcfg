#!/usr/bin/env -S sd nix shell
#! nix-shell -p nodejs -i bash

# Roda Open Codex com uma chave Open Router sem saldo pra usar com modelos gratuitos e projetos de cÃ³digo aberto.

set -euo pipefail

# Sentinel: Removed hardcoded API key.
# Please set OPENROUTER_API_KEY in your environment.

if [[ -z "${OPENROUTER_API_KEY:-}" ]]; then
    echo "Error: OPENROUTER_API_KEY is not set." >&2
    echo "Please set it in your environment." >&2
    exit 1
fi

export CODEX_MODEL=deepseek/deepseek-chat-v3-0324:free

npx open-codex --model "$CODEX_MODEL" "$@"
