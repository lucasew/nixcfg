#!/usr/bin/env bash
# Hook to reload GTK theme after workspaced apply

# Switch to dummy and back to force GTK reload
if [ -L ~/.local/share/themes/dummy ]; then
	current_theme=$(gsettings get org.gnome.desktop.interface gtk-theme 2>/dev/null | tr -d "'" )
	if [ -z "$current_theme" ]; then
		current_theme=adw-gtk3-dark
	fi
	gsettings set org.gnome.desktop.interface gtk-theme dummy 2>/dev/null
	gsettings set org.gnome.desktop.interface gtk-theme "$current_theme" 2>/dev/null
fi
