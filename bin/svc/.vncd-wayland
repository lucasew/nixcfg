#!/usr/bin/env -S sd nix shell
#!nix-shell -i bash -p wayvnc tailscale
#! vim:ft=bash

# Default to Tailscale IP if available for secure remote access, otherwise localhost.
# WAYVNC_HOST can be used to override this behavior.
# Binding to 0.0.0.0 would expose the VNC server to all network interfaces.
# If remote access is required, consider using an SSH tunnel or a secure VPN like Tailscale.
TS_IP=$(tailscale ip -4 2>/dev/null)
HOST_DEFAULT=${TS_IP:-127.0.0.1}

wayvnc "${WAYVNC_HOST:-$HOST_DEFAULT}"
